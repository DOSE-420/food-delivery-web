<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard - McD Restaurants</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="admin-styles.css">
</head>
<body>

<!-- ==================== SIDEBAR ==================== -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <img src="https://i.imgur.com/yqLGGdg.png" alt="McD Logo" class="sidebar-logo">
    <h2>Admin Panel</h2>
  </div>
  
  <nav class="sidebar-nav">
    <a href="#" class="nav-item active" data-page="dashboard">
      <i class="fas fa-chart-line"></i>
      <span>Dashboard</span>
    </a>
    <a href="#" class="nav-item" data-page="orders">
      <i class="fas fa-shopping-bag"></i>
      <span>Orders</span>
      <span class="badge" id="ordersBadge">0</span>
    </a>
    <a href="#" class="nav-item" data-page="riders">
      <i class="fas fa-motorcycle"></i>
      <span>Riders</span>
    </a>
    <a href="#" class="nav-item" data-page="map">
      <i class="fas fa-map"></i>
      <span>Live Map</span>
    </a>
    <a href="#" class="nav-item" data-page="restaurants">
      <i class="fas fa-utensils"></i>
      <span>Restaurants</span>
    </a>
    <a href="#" class="nav-item" data-page="analytics">
      <i class="fas fa-chart-bar"></i>
      <span>Analytics</span>
    </a>
  </nav>
  
  <div class="sidebar-footer">
    <div class="admin-profile">
      <div class="admin-avatar">
        <i class="fas fa-user-shield"></i>
      </div>
      <div class="admin-info">
        <h4>Admin User</h4>
        <p>admin@mcd.com</p>
      </div>
    </div>
    <button class="logout-btn">
      <i class="fas fa-sign-out-alt"></i>
      Logout
    </button>
  </div>
</aside>

<!-- ==================== MAIN CONTENT ==================== -->
<main class="main-content">
  <!-- Header -->
  <header class="top-header">
    <button class="mobile-toggle" id="mobileToggle">
      <i class="fas fa-bars"></i>
    </button>
    <h1 class="page-title">Dashboard</h1>
    <div class="header-actions">
      <button class="icon-btn" id="notificationBtn">
        <i class="fas fa-bell"></i>
        <span class="notification-dot"></span>
      </button>
      <button class="icon-btn" id="refreshBtn">
        <i class="fas fa-sync-alt"></i>
      </button>
    </div>
  </header>

  <!-- Dashboard Page -->
  <div class="page-content active" id="dashboardPage">
    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
          <i class="fas fa-shopping-bag"></i>
        </div>
        <div class="stat-info">
          <h3 id="totalOrders">0</h3>
          <p>Total Orders</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
          <i class="fas fa-clock"></i>
        </div>
        <div class="stat-info">
          <h3 id="pendingOrders">0</h3>
          <p>Pending Orders</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
          <i class="fas fa-motorcycle"></i>
        </div>
        <div class="stat-info">
          <h3 id="activeRiders">0</h3>
          <p>Active Riders</p>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
          <i class="fas fa-dollar-sign"></i>
        </div>
        <div class="stat-info">
          <h3 id="totalRevenue">NPR 0</h3>
          <p>Total Revenue</p>
        </div>
      </div>
    </div>

    <!-- Recent Orders -->
    <div class="content-card">
      <div class="card-header">
        <h2>Recent Orders</h2>
        <a href="#" class="view-all" onclick="showPage('orders')">View All</a>
      </div>
      <div class="orders-table-container">
        <table class="orders-table">
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Customer</th>
              <th>Restaurant</th>
              <th>Amount</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="recentOrdersTable">
            <tr>
              <td colspan="6" class="no-data">No orders yet</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Orders Page -->
  <div class="page-content" id="ordersPage">
    <div class="content-card">
      <div class="card-header">
        <h2>All Orders</h2>
        <div class="filter-group">
          <select id="statusFilter" class="filter-select">
            <option value="all">All Status</option>
            <option value="pending">Pending</option>
            <option value="confirmed">Confirmed</option>
            <option value="preparing">Preparing</option>
            <option value="out_for_delivery">Out for Delivery</option>
            <option value="delivered">Delivered</option>
            <option value="cancelled">Cancelled</option>
          </select>
        </div>
      </div>
      <div class="orders-table-container">
        <table class="orders-table">
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Customer</th>
              <th>Phone</th>
              <th>Restaurant</th>
              <th>Items</th>
              <th>Amount</th>
              <th>Payment</th>
              <th>Status</th>
              <th>Rider</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="allOrdersTable">
            <tr>
              <td colspan="10" class="no-data">No orders yet</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Riders Page -->
  <div class="page-content" id="ridersPage">
    <div class="content-card">
      <div class="card-header">
        <h2>Delivery Riders</h2>
        <button class="btn-primary" onclick="showAddRiderModal()">
          <i class="fas fa-plus"></i> Add Rider
        </button>
      </div>
      <div class="riders-grid" id="ridersGrid">
        <!-- Riders will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Map Page -->
  <div class="page-content" id="mapPage">
    <div class="content-card" style="padding: 0; overflow: hidden;">
      <div id="liveMap" style="height: calc(100vh - 160px); width: 100%;"></div>
    </div>
  </div>

  <!-- Restaurants Page -->
  <div class="page-content" id="restaurantsPage">
    <div class="content-card">
      <div class="card-header">
        <h2>Restaurants</h2>
        <button class="btn-primary">
          <i class="fas fa-plus"></i> Add Restaurant
        </button>
      </div>
      <p class="coming-soon">Restaurant management coming soon...</p>
    </div>
  </div>

  <!-- Analytics Page -->
  <div class="page-content" id="analyticsPage">
    <div class="content-card">
      <div class="card-header">
        <h2>Analytics</h2>
      </div>
      <p class="coming-soon">Analytics dashboard coming soon...</p>
    </div>
  </div>
</main>

<!-- ==================== ORDER DETAILS MODAL ==================== -->
<div class="modal" id="orderModal">
  <div class="modal-content order-modal">
    <div class="modal-header">
      <h2>Order Details</h2>
      <button class="modal-close" onclick="closeOrderModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body" id="orderModalBody">
      <!-- Order details will be loaded here -->
    </div>
  </div>
</div>

<!-- ==================== ASSIGN RIDER MODAL ==================== -->
<div class="modal" id="assignRiderModal">
  <div class="modal-content assign-modal">
    <div class="modal-header">
      <h2>Assign Delivery Rider</h2>
      <button class="modal-close" onclick="closeAssignModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="rider-selection" id="riderSelection">
        <!-- Available riders will be loaded here -->
      </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="admin-script.js"></script>
</body>
</html>
